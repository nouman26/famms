<!doctype html>
                        <html>
                            <head>
                                <meta charset='utf-8'>
                                <meta name='viewport' content='width=device-width, initial-scale=1'>
                                <title>Snippet - BBBootstrap</title>
                                <link href='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css' rel='stylesheet'>
                                <link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css' rel='stylesheet'>
                                <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
                                <link href="/css/checkoutStyle.css" rel="stylesheet">
                                </head>
                                <body oncontextmenu='return false' class='snippet-body'>
                                <div class="card">
    <div class="row">
        <div class="col-md-8 cart">
            <div class="title">
                <div class="row">
                    <div class="col">
                        <h4><b>Shopping Cart</b></h4>
                    </div>
                    <div class="col align-self-center text-right text-muted">3 items</div>
                </div>
            </div>
            <%items.forEach(function(item){ %>
            <div class="row border-top border-bottom">
                <div class="row main align-items-center">
                    <div class="col-2"><img class="img-fluid" src="/images/<%= item.productImage%>"></div>
                    <div class="col">
                        <div class="row"><%= item.productName%></div>
                    </div>
                    <div class="col"> <a href="#" onclick="decreaseQuantity(this)">-</a><a href="#" class="border">1</a><a href="#" onclick="increaseProductQuantity(this)">+</a> </div>
                    <div class="col">&dollar;<span class="price"><%= item.productPrice%></span> 
                        <a href="/deleteProduct/<%= item.productId%>"><span class="close">&#10005;</span></a></div>
                </div>
            </div>
            <%}) %>
            <div class="back-to-shop"><a href="/">&leftarrow;</a><span class="text-muted">Back to shop</span></div>
        </div>
        <div class="col-md-4 summary">
            <div>
                <h5><b>Summary</b></h5>
            </div>
            <hr>
            <div class="row">
                <div class="col" style="padding-left:0;">ITEMS 3</div>
                <div class="col text-right">&dollar; <span>0</span></div>
            </div>
            <form action="/checkout" method="post">
                <p>SHIPPING TYPE</p> <select>
                    <option class="text-muted">Cash on delivery- &dollar;10.00</option>
                </select>

                <p>Enter Email</p>
                <input type="email" name="email" required>
            
            <div class="row" style="border-top: 1px solid rgba(0,0,0,.1); padding: 2vh 0;">
                <div class="col">TOTAL PRICE</div>
                <div class="col text-right">&dollar; <span>0</span></div>

            <input id="totalItem" type="hidden" name="totalItem" value="">
            <input id="totalPrice" type="hidden" name="totalPrice" value="">
            </div> <button class="btn">CHECKOUT</button>
        </form>
        </div>
    </div>
</div>
<script type='text/javascript' src='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js'></script>
<script type='text/javascript'>
totalProductPrice();
function increaseProductQuantity(e){
    var quantity=parseInt(e.previousSibling.innerText);
    e.previousSibling.innerText = parseInt(e.previousSibling.innerText) + 1;
    var price=e.parentNode.nextSibling.nextSibling.firstChild.nextSibling.innerText;
    var singleQuantity=parseInt(price)/quantity;
    e.parentNode.nextSibling.nextSibling.firstChild.nextSibling.innerText=singleQuantity*(quantity+1);
    totalProductPrice()
}
function decreaseQuantity(e){
    if(parseInt(e.nextSibling.innerText)!==1){
        var quantity=parseInt(e.nextSibling.innerText);
        e.nextSibling.innerText=parseInt(e.nextSibling.innerText)-1;
        var price=e.parentNode.nextSibling.nextSibling.firstChild.nextSibling.innerText;
        var singleQuantity=parseInt(price)/quantity;
        e.parentNode.nextSibling.nextSibling.firstChild.nextSibling.innerText=singleQuantity*(quantity-1)
        totalProductPrice()
    }
}

function totalProductPrice(){
    var total=0;
    var NoOfItems=document.getElementsByClassName("price");
    for(var i=0;i<NoOfItems.length;i++){
        total=total+parseInt(NoOfItems[i].innerText);
    }
    document.querySelector("body > div > div > div.col-md-8.cart > div.title > div > div.col.align-self-center.text-right.text-muted").innerText=NoOfItems.length+" items";
    document.querySelector("body > div > div > div.col-md-4.summary > div:nth-child(3) > div:nth-child(1)").innerText="ITEM "+NoOfItems.length;
    document.querySelector("body > div > div > div.col-md-4.summary > div:nth-child(3) > div.col.text-right > span").innerText=total;
    document.querySelector("body > div > div > div.col-md-4.summary > form > div > div.col.text-right > span").innerText=total+10;
    document.getElementById("totalPrice").value=total+10;
    document.getElementById("totalItem").value=NoOfItems.length;
}
</script>
<script type='text/javascript' src=''></script>
<script type='text/Javascript'></script>
</body>
</html>